/*! ng-i18next - v0.2.2 - 2013-07-07 - Copyright (c) 2013 Andre Meyering; Licensed MIT */angular.module("jm.i18next",["ng"]),angular.module("jm.i18next").provider("$i18next",function(){"use strict";var a,b=this,c=null,d={};b.options={},b.$get=function(e){function f(a){window.i18n.init(a,function(b){function f(c){e.$apply(function(){d[a.lng][c]=b(c)})}c=b;for(var g in d)f(g);e.$broadcast("i18nextLanguageChange")})}function g(a,b){var e=b.lng;d[e]||(d[e]={}),d[e][a]=c?c(a,b):a}function h(b,c){var e=angular.extend({},a,c);return g(b,e),d[e.lng][b]}return h.debugMsg=[],a=h.options=b.options,e.$watch(function(){return h.options},function(b,c){h.debugMsg.push("i18next options changed: \n","old options",c,"new options",b),a=h.options,a.lng||(a.lng="dev"),f(a)},!0),f(a),h}}),angular.module("jm.i18next").directive("ngI18next",["$rootScope","$i18next","$interpolate","$compile","$parse",function(a,b,c,d,e){"use strict";function f(a,c,f){var g,h="text",i=[h];if(0===f.indexOf("[")){var j=f.split("]");f=j[1],h=j[0].substr(1,j[0].length-1)}if(f.indexOf(";")===f.length-1&&(f=f.substr(0,f.length-2)),h.indexOf(":")>=0?(i=h.split(":"),h=i[0]):"i18next"===h&&(i[1]="i18next",h="text"),"i18next"!==h&&"i18next"!==i[1])g=b(f);else{var k={},l=f;if(f.indexOf("(")>=0&&f.indexOf(")")>=0){var m=f.split(")");m[0]=m[0].substr(1,m[0].length),k=e(m[0])(),l=m[1]}g=b(l,k)}"html"===h?c.html(g):"text"===h?c.text(g):c.attr(h,g),d(c.contents())(a)}function g(a,b,c){if(c.indexOf(";")>=0)for(var d=c.split(";"),e=0;e<d.length;e++)""!==d[e]&&f(a,b,d[e]);else f(a,b,c)}return{restrict:"A",scope:!0,link:function(a,b,c){c.$observe("ngI18next",function(c){a.translationValue=""===c?b.text().replace(/^\s+|\s+$/g,""):c,a.translationValue&&g(a.$parent,b,a.translationValue)}),a.$on("i18nextLanguageChange",function(){g(a.$parent,b,a.translationValue)})}}}]),angular.module("jm.i18next").filter("i18next",["$parse","$timeout","$i18next",function(a,b,c){"use strict";return function(a,b){return c(a,b)}}]);